@using System.Web.Mvc.Ajax
@model MvcPL.Models.ImageModels.ImageListViewModel
@{
    ViewBag.Title = "ImageCatalog";
    Layout = "~/Views/Shared/_CourseLayout.cshtml";
}

<h2>ImageCatalog</h2>
<h3>Выберите файл для загрузки</h3>
<div class="col-md-12">
    @using (Html.BeginForm("UploadImage", "Storage", FormMethod.Post, new {enctype = "multipart/form-data"}))
    {

        <input type="text" name="title"/>
        <input type="file" name="upload"/><br>
        <input type="submit" value="Загрузить"/>
    }
    <hr />
</div>
@*<div class="row">
    <div class="panel panel-danger">
        <div class="panel-heading">
            <h3 class="panel-title">Oh, we've got a problem!</h3>
        </div>
        <div class="panel-body">
            @TempData["Message"]
        </div>
    </div>
</div>*@
<p style="color:red">@TempData["Message"]</p>
@Html.Partial("_ImageList", Model)

@Ajax.ActionLink("Ajax Link", "Test", new AjaxOptions
{
    UpdateTargetId = "dest",
    InsertionMode = InsertionMode.Replace,
    HttpMethod = "GET"
});
<div id="dest"></div>

